# 물리 계층과 데이터링크 계층

## 이더넷

- 이더넷(Ethernet): 통신 매체의 규격, 송수신되는 프레임의 형태, 프레임을 주고 받는 방법 등을 정의한 네트워크 기술
- 이더넷 통신 매체는 `전송 속도BASE-추가 특성` 의 형태로 표기한다(1000BASE-SX, 2.5GBASE-T 등)
    - BASE(BASEband): 비트 신호로 변환된 데이터를 통신 매체로 전송하는 방법, 변조 타입이라 한다
    - 추가 특성: 통신 매체의 특성으로, 전송 가능한 최대 거리, 물리 계층 인코딩 방식, 비트 전송로(레인) 수 등이 명시된다
- 통신 매체 종류(케이블 종류 - 추가 특성 표기법)
    - 동축 케이블 - C
    - 트위스티드 페어 케이블 - T
    - 단파장 광섬유 케이블 - S
    - 장파장 광섬유 케이블 - L
- 이더넷 프레임(Ethernet frame): 이더넷에서 주고받는 프레임의 형태
    
    <img src="/assets/ethernet-frame.JPG" alt="이더넷 프레임" width="500px" heigt="320px"/>
    
    - 프리앰블: 이더넷 프레임의 시작을 알리는 정보, 송수신지 간의 동기화를 위해 사용됨
    - MAC 주소: 네트워크 인터페이스마다 부여되는 물리적 주소로, 일반적으로는 고유하고, 변경되지 않는다
    - 타입/길이: 이 필드에는 타입 혹은 길이가 올 수 있다. 이때 타입이란 프레임이 어떤 정보를 캡슐화했는지를 나타낸다.
    - FCS: 수신한 이더넷 프레임에 오류가 있는지 검출하기 위한 필드

## NIC와 케이블

- NIC(Network Interface Controller): 호스트와 통신 매체 사이에서 신호를 변환, 인터페이스 역할을 담당하는 네트워크 장비. 통신 매체를 통해 전달되는 신호를 컴퓨터가 이해할 수 있는 정보로 변환한다. 또는 그 반대로 변환한다.
- 트위스티드 페어 케이블: 구리 선으로 전기 신호를 주고받는 통신 매체, LAN 케이블로 유명하다
    - 실드에 따라 분류할 수 있다
    - 실드: 구리 선에서 전기 신호가 흐르는 중에 생길 수 있는 전자적 간섭(노이즈)을 막는 것
        - 브레이크 실드(S), 포일 실드(F), 무실드(U)
        - STP(Shielded Twisted Pair): 브레이드 실드로 구리 선을 감싸 노이즈를 감소시킨 트위스티드 페어 케이블
        - FTP: 포일 실드로 노이즈를 감소
        - UTP: 감싸진 것 없이 구리 선만 있음
    - 카테고리에 따라 분류할 수 있다
    - 카테고리: 성능의 등급을 구분하는 역할, 주로 “Cat”으로 표기. 숫자가 높을수록 성능이 좋다
- 광섬유 케이블: 빛을 이용해 정보를 주고받는 케이블, 코어의 지름에 따라 싱글 모드와 멀티 모드 광섬유 케이블로 나뉜다

## 허브

- 허브(hub): 물리 계층의 네트워크 장비로, 주소 개념이 없어 전달받은 신호를 그대로 다시 다른 포트로 보낸다
    - 동시 송수신이 불가능한 반이중 모드로 통신한다
- 콜리전 도메인: 충돌이 발생할 수 있는 영역
- CSMA/MD: 허브에서 충돌 방지를 위한 프로토콜로 반이중 이더넷을 대표하는 송수신 방법
    - 메세지 송신 전 먼저 현재 네트워크 내에 전송 중인 것이 있는지 확인한다(Carrier Sense)
    - 부득이하게 충돌이 발생했을 때 이를 검출할 수 있다

## 스위치

- 스위치(switch): 데이터 링크 계층의 네트워크 장비로, MAC 주소를 기억해 전달받은 신호를 원하는 포트만 받을 수 있도록 할 수 있다
- MAC 주소 학습
    - 플러딩: 송신지 포트를 제외한 모든 포트로 프레임을 전송하는 것
    - 필터링: 전달받은 프레임의 포트별 송신 여부를 결정하는 것 
    - 포워딩: 전송될 포트로 실제로 프레임을 내보내는 것 
    - 에이징: 일정 시간 프레임을 전송받지 못한 포트의 정보를 MAC 주소 테이블에서 삭제하는 것
- VLAN: 스위치 한 대로 가상의 LAN을 만드는 것
    - 포트 기반 VLAN과 MAC 기반 VLAN이 있음